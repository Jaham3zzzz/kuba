<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lambo Cutscene â€” ACCESS GRANTED</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
<style>
body, html {
  margin:0; padding:0; height:100%; overflow:hidden;
  background: linear-gradient(#0a0a0a,#111);
  font-family: 'Orbitron', sans-serif;
}
.stage { position:relative; width:100%; height:100vh; overflow:hidden; }
.road { position:absolute; bottom:15%; left:0; width:100%; height:20%; background:#222; box-shadow:0 0 30px #000 inset; }
.car-wrap { position:absolute; bottom:28%; left:-400px; width:300px; height:auto; z-index:5; }
.fire-trail { position:absolute; bottom:32%; left:0; height:16px; width:0; background: radial-gradient(ellipse at center, rgba(255,200,50,0.9) 0%, rgba(255,40,0,0.7) 60%, transparent 100%); filter:blur(4px); z-index:4; pointer-events:none; border-radius:50%; opacity:0; }
.particle { position:absolute; width:8px; height:4px; border-radius:50%; background: linear-gradient(90deg,#ffb84d,#ff2200); opacity:0.8; pointer-events:none; filter:blur(2px); z-index:3; }
.access { position:absolute; bottom:32%; left:50%; transform:translateX(-50%); font-size:clamp(36px,8vw,96px); font-weight:700; text-align:center; color:#fff; opacity:0; text-shadow:0 0 20px #ffb84d, 0 0 40px #ff4d00; white-space: nowrap; transition: opacity 1s ease, transform 1s ease; }
.access.show { opacity:1; transform:translateX(-50%) scale(1.05); }
</style>
</head>
<body>
<div class="stage">
  <div class="road"></div>
  <div class="fire-trail" id="fireTrail"></div>
  <div class="access" id="accessText">ACCESS GRANTED</div>
  <div class="car-wrap" id="carWrap">
    <img src="wwww-removebg-preview.png" width="300">
  </div>
</div>

<script>
(function(){
  const car = document.getElementById('carWrap');
  const fire = document.getElementById('fireTrail');
  const access = document.getElementById('accessText');
  const stageWidth = window.innerWidth;

  // Check if they've seen the cutscene twice
  let seenCount = parseInt(localStorage.getItem('lamboCutscene') || '0');
  if(seenCount >= 2){
    window.location.href = 'kuba.html';
    return;
  }

  // Increment seen count
  localStorage.setItem('lamboCutscene', seenCount + 1);

  function createParticle(x, y){
    const p = document.createElement('div');
    p.className='particle';
    p.style.left=x+'px'; p.style.top=y+'px';
    const size=4+Math.random()*6;
    p.style.width=size+'px'; p.style.height=(size*0.5)+'px';
    document.body.appendChild(p);
    const angle=Math.random()*Math.PI*2;
    const dist=80+Math.random()*200;
    const dx=Math.cos(angle)*dist;
    const dy=Math.sin(angle)*dist*(0.5+Math.random()*1.2);
    p.style.transition=`transform 1000ms linear, opacity 1000ms linear`;
    setTimeout(()=>{ p.style.transform=`translate(${dx}px,${dy}px) rotate(${Math.random()*720}deg)`; p.style.opacity=0; },20);
    setTimeout(()=>p.remove(),1100);
  }

  function driveCar(){
    const duration = 3500;
    const fireLength = 350;
    let start = null;

    function animate(timestamp){
      if(!start) start = timestamp;
      let progress = timestamp - start;
      let pct = progress / duration;
      if(pct>1) pct=1;

      let x = pct*(stageWidth + 400) - 400;
      car.style.left = x+'px';

      if(pct>0.05 && pct<0.95){
        fire.style.opacity = 0.9;
        fire.style.left = (x-fireLength+50)+'px';
        fire.style.width = fireLength + (Math.random()*50-25)+'px';
        fire.style.height = 16 + Math.random()*8 +'px';
        if(Math.random()<0.3){
          createParticle(x-fireLength+50+Math.random()*fireLength, window.innerHeight*0.32+Math.random()*10);
        }
      } else fire.style.opacity=0;

      if(pct<1){
        requestAnimationFrame(animate);
      } else {
        setTimeout(()=>{
          fire.style.transition='opacity 1.5s ease';
          fire.style.opacity=0;
          access.classList.add('show');
          setTimeout(()=>{ window.location.href='kuba.html'; }, 2000);
        },1000);
      }
    }
    requestAnimationFrame(animate);
  }

  window.addEventListener('load', driveCar);
})();
</script>
</body>
</html>
